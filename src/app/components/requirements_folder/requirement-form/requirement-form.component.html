<div class='container'>
  <mat-card>
    <mat-dialog-content>
    <mat-card-title color='primary'>Add Requirement</mat-card-title>
    <form [formGroup]='requirementForm' #formDir="ngForm">
      <mat-form-field class="container__title">
        <input matInput placeholder="Title" formControlName="title" required>
        <mat-error *ngIf='requirementForm.controls.title.errors?.required'>Title is required</mat-error>
        <mat-error *ngIf='requirementForm.controls.title.errors?.maxlength'>Title is too long</mat-error>
      </mat-form-field>
      <mat-form-field class="container__description">
        <textarea matInput 
                  placeholder="Description"
                  cdkTextareaAutosize 
                  cdkAutosizeMinRows="2"
                  cdkAutosizeMaxRows="5"
                  formControlName="description"
                  required></textarea>
        <mat-error *ngIf='requirementForm.controls.description.errors?.required'>Description is required</mat-error>
        <mat-error *ngIf='requirementForm.controls.description.errors?.maxlength'>Description is too long</mat-error>
      </mat-form-field>
      <mat-form-field class="container__priority">
          <mat-label>Priority</mat-label>
          <mat-select formControlName="priority" name="priority">
            <mat-option *ngFor="let urgency of priority" [value]="urgency">
              {{urgency}}
            </mat-option>
          </mat-select>
      </mat-form-field>
      <mat-form-field class="container__assignedToUser">
        <mat-label>Assigned To</mat-label>
        <mat-select formControlName="assignedToUser" name="assignedToUser">
          <mat-option *ngFor="let user of users" [value]="user">
            {{user.firstName + ' ' + user.lastName}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field class="container__relatedIssue">
          <mat-label>Related Issue</mat-label>
          <mat-select formControlName="relatedIssue" name="relatedIssue">
            <mat-option *ngFor="let issue of issues" [value]="issue">
              {{issue.title}}
            </mat-option>
          </mat-select>
        </mat-form-field>
        <mat-form-field class="container__estimatedTime">
            <mat-label>Estimated Time</mat-label>
            <mat-select formControlName="estimatedTime" name="estimatedTime">
              <mat-option *ngFor="let time of estimate" [value]="time">
                {{time}}
              </mat-option>
            </mat-select>
          </mat-form-field>
      <mat-form-field class="container__dueDate">
        <input matInput [matDatepicker]="dueDate" placeholder="Choose a due date"
         formControlName="dueDate" [min]="currentDate">
        <mat-datepicker-toggle [for]="dueDate"></mat-datepicker-toggle>
        <mat-datepicker #dueDate></mat-datepicker>
      </mat-form-field>
      <div mat-dialog-actions>
          <button mat-raised-button color="primary" (click)="addRequirement()">Add Requirement</button> 
      </div>
      <!-- <div class="container__add-requirement">
          <button mat-raised-button color="primary" (click)="addRequirement()">Add Requirement</button> 
      </div> -->
    </form>
  </mat-dialog-content>
  </mat-card>
</div>
